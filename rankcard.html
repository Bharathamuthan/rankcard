<!DOCTYPE html>
<html>
    <head>
  <title>card</title>
  <link rel="icon" type="image/x-icon" href="/image/eaglelogo.jpg">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
     integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    </head>
<body style="text-align: center;" bgcolor="white">
    <img src="/image/slo.png" height="100px" width="100px">
    <h1 style="text-align: center;color: blue;">Report Card</h1>
    <p style="text-align: center;color: blue;"><i><b>PONNUSAMY Higher Secondary School Report card for students</b></i></p><br>
    <center>
    <table style="color:rgb(184, 31, 138)"; id="score" cellspacing="5";bgcolor=white>
        <tr>
            <h4><b>Input Marks</b></h4>
            <th rowspan="2">Name</th>
        </tr>
        <tr>
            <th>Tamil</th>
            <th>English</th>
            <th>Maths</th>
            <th>Science</th>
            <th>Social Science</th>
        </tr>
        <tr>
            <th><input type="text" id="aname"></th>
            <th><input type="number" id="at"></th>
            <th><input type="number" id="ae"></th>
            <th><input type="number" id="am"></th>
            <th><input type="number" id="as"></th>
            <th><input type="number" id="ass"></th>
        </tr>
    </table>
    </center>
        <div class="modal" tabindex="-1" id="bharath" >
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title"><center>Enter The Mark</center></h5>
                </div>
                <div class="modal-body">
                    <label>Name</label>&emsp;&emsp;&emsp;&emsp;&nbsp;     <input type="text"   id="an"><br><br>
                  <label>Tamil</label>&emsp;&emsp;&emsp;&emsp;&emsp;      <input type="number" id="tt"><br><br>
                  <label>English</label>&emsp;&emsp;&emsp;&emsp;          <input type="number" id="ee"><br><br>
                  <label>Maths</label>&emsp;&emsp;&emsp;&emsp;&nbsp;&nbsp;<input type="number" id="mm"><br><br>
                  <label>Science</label>&emsp;&emsp;&emsp;&emsp;          <input type="number" id="cc"><br><br>
                  <label>Social Science</label>&emsp;&nbsp;               <input type="number" id="sss"><br><br>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                  <button type="button" class="btn btn-primary" data-bs-dismiss="modal" onclick="Save()">Save</button>
                </div>
              </div>
            </div>
        </div>
        <tr>
          <th colspan="6" height="30"><br>
        <center><input type="submit" value="Add To Table" onclick="Sub()"></th></center>
     </tr>    
     <br>
     <center>
    <table border="2px solid black " cellspacing="5" bgcolor="white"
           height="100" width="500" cellpadding="5" id="TableScore" style="color: rgb(184, 31, 138);">
       <h4><b>Student Data</b></h4>
        <tr>
          <style>
          #TableScore th,td {
            border:1px solid black
          }
          </style>
            <th width="180">Name</th>
            <th>Tamil</th>
            <th>English</th>
            <th>Maths</th>
            <th>Science</th>
            <th>Social Science</th>
            <th>Total</th>
            <th>Average</th>
            <th>Pass Or Fail</th>
            <th>Edit</th>
            <th>Delete</th>
        </tr>
    </table>
    </center>
    <script>
        function Sub(){
            var n, t, e, m, s, ss, sum, avg;
            n=(document.getElementById('aname').value);
            t=parseInt(document.getElementById('at').value);
            e=parseInt(document.getElementById('ae').value);
            m=parseInt(document.getElementById('am').value);
            s=parseInt(document.getElementById('as').value);
            ss=parseInt(document.getElementById('ass').value);
            // Calculating Total
            sum=t+e+m+s+ss;
            avg=sum/5;
            // Data
            var newTable = document.getElementById('TableScore');
            var row = newTable.insertRow(-1);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            var cell4 = row.insertCell(3);
            var cell5 = row.insertCell(4);
            var cell6 = row.insertCell(5);
            var cell7 = row.insertCell(6);
            var cell8 = row.insertCell(7);
            var cell9 = row.insertCell(8);
            var cell10 = row.insertCell(9);
            var cell11 = row.insertCell(10);
           //data input table
            cell1.innerHTML= n;
            cell2.innerHTML= t;
            cell3.innerHTML= e;
            cell4.innerHTML= m;
            cell5.innerHTML= s;
            cell6.innerHTML= ss;
            cell7.innerHTML=sum;
            cell8.innerHTML = avg;
            cell10.innerHTML= '<input type="button" value="Edit" data-bs-toggle="modal" data-bs-target="#bharath" onclick ="Edit()">';
            cell11.innerHTML= '<input type="button" value="Delete" onclick ="Delete()">';
              document.getElementById('aname').value=" ";
              document.getElementById('at').value=" ";
              document.getElementById('ae').value=" ";
              document.getElementById('am').value=" ";
              document.getElementById('as').value=" ";
              document.getElementById('ass').value=" ";

            
            //pass or fail
            if (t<34||e<34||m<34||s<34||ss<34){
                cell9.innerHTML="<font color=red>Fail</font>";
                }
                else {
                cell9.innerHTML="<font color=green>Pass</font>";
                }
              }

                // pobup edit
                function Edit() {

                 //edit input
                 document.getElementById('bharath').style.display="block";
                 
                 var td = event.target.parentNode;
       console.log(td); 
      var tr = td.parentNode; 
      console.log(tr);

      document.getElementById("an").value=tr.cells[0].innerHTML;
      document.getElementById("tt").value=tr.cells[1].innerHTML;
      document.getElementById("ee").value=tr.cells[2].innerHTML;
      document.getElementById("mm").value=tr.cells[3].innerHTML;
      document.getElementById("cc").value=tr.cells[4].innerHTML;
      document.getElementById("sss").value=tr.cells[5].innerHTML;
      document.getElementById("sum").value=tr.cells[6].innerHTML;
      document.getElementById("avg").value=tr.cells[7].innerHTML;
                }
                //pobup delete
                function Delete() {
                  var td = event.target.parentNode;
                  var tr = td.parentNode;
                  tr.parentNode.removeChild(tr);
                }
                //pobup save
                 function Save() {
                //save input

                var t, u, v, w, x, y, bh, ar, ath;

 t = document.getElementById('an').value;               
 u = parseInt(document.getElementById('tt').value); 
 v = parseInt(document.getElementById('ee').value);
 w = parseInt(document.getElementById('mm').value); 
 x = parseInt(document.getElementById('cc').value);
 y = parseInt(document.getElementById('sss').value);

 document.getElementById('bharath').value;
 var table=document.getElementById("TableScore");

bh=u+v+w+x+y;

ar=bh/5;

 for(let row of table.rows) {
   for(let cell of row.cells) {
     if (cell.innerHTML===t) {
       console.log(row.cells[0]);
     
row.cells[0].innerHTML=t;      
row.cells[1].innerHTML=u;
row.cells[2].innerHTML=v;
row.cells[3].innerHTML=w;
row.cells[4].innerHTML=x;
row.cells[5].innerHTML=y;
row.cells[6].innerHTML=bh;
row.cells[7].innerHTML=ar;

if (u<34||v<34||w<34||x<34||y<34){
               row.cells[8].innerHTML="<font color=red>Fail</font>";
                }
                else {
                row.cells[8].innerHTML="<font color=green>Pass</font>";
                }
 //cell10.innerHTML = '<input type="button" value="Edit" data-bs-toggle="modal" data-bs-target="#bharath" onclick="Edit()">';
 //cell11.innerHTML = '<input type="button" value="Delete" onclick="Delete()">';
     }
    }
  }


  
                 }        
    </script>
</body>
</html>